<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}" data-bs-theme="dark">

<head>
    {{ partial "head" . }}
    {{ block "head" . }}{{ end }}
</head>

<body>
    {{ partial "navbar" . }}
    <div id="lang-alert" class="container my-3 d-none">
        <div class="alert alert-dark" role="alert">
            <i class="bi bi-exclamation-triangle"></i>
            <span id="lang-not-available">This page is not available in your chosen language</span><span id="target-lang"></span>.
            <div role="button" onclick="history.back()" class="btn btn-sm btn-secondary mx-3">
                <i class="bi bi-chevron-left"></i>
                <span id="back">Back</span>
            </div>
            <div id="google_translate_element" class="d-inline">
                <div role="button" onclick="loadGoogleTranslate(); this.remove()" class="btn btn-sm btn-secondary">
                    <i class="bi bi-translate"></i>
                    Google Translate
                </div>
            </div>
        </div>
    </div>
      
    <script>
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const lang = urlParams.get("lang");
        if (lang) {
            document.getElementById("lang-alert").classList.remove("d-none");
            document.getElementById("target-lang").innerHTML = `: ${lang}`;
            switch(lang) {
            case "de":
                document.getElementById("lang-not-available").innerHTML = "Diese Seite ist nicht verfügbar in der gewählten Sprache";
                document.getElementById("back").innerHTML = "Zurück";
                break;
            }

        }
        
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        }
        
        function loadGoogleTranslate() {
            var googleTranslateScript = document.createElement('script');
            googleTranslateScript.src = 'https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
            document.head.appendChild(googleTranslateScript);
        }
    </script>
    {{ block "main" . }}{{ end }}
    
    {{ partial "footer" . }}
    {{ partial "insert_end" . }}
</body>

</html>